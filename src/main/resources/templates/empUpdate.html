<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
	crossorigin="anonymous"></script>
</head>
<body>
	<div class="container">
		<h1>사원수정</h1>
		<form th:object="${emp}" action="update">
			<div class="mb-3">
				<label for="employeeId" class="form-label">employeeId</label> <input
					type="text" class="form-control" name="employeeId" id="employeeId" th:value="*{employeeId}">
			</div>
			<div class="mb-3">
				<label for="firstName" class="form-label">firstName</label> <input
					type="text" class="form-control" name="firstName" id="firstName" th:value="${emp.firstName}">
			</div>
			<div class="mb-3">
				<label for="lastName" class="form-label">lastName</label> <input
					type="text" class="form-control" name="lastName" id="lastName" th:value="${emp.lastName}">
			</div>
			<div class="mb-3">
				<label for="email" class="form-label">이메일</label> <input
					type="email" class="form-control" name="email" id="email" th:value="${emp.email}">
			</div>
			<div class="mb-3">
				<label for="hireDate" class="form-label">입사일자</label> <input
					type="date" class="form-control" name="hireDate" id="hireDate" th:value="${emp.hireDate}">
			</div>
			<div class="mb-3">
				<label for="departmentId" class="form-label">부서</label> <select
					class="form-control" name="departmentId" id="departmentId">
					<option value="">선택</option>
					<th:block th:each="dept : ${depts}">
						<option th:text="${dept.departmentName}" th:value="${dept.departmentId}" 
							th:selected="${emp.departmentId}==${dept.departmentId}"></option>
					</th:block>
				</select>
			</div>
			<div class="mb-3">
				<label for="jobId" class="form-label">직무</label> <select
					class="form-control" name="jobId" id="jobId">
					<option value="">선택</option>
					<th:block th:each="job : ${jobs}">
						<option th:text="${job.jobTitle}" th:value="${job.jobId}" th:selected="${emp.jobId}==${job.jobId}"></option>
					</th:block>
				</select>
			</div>
			<button type="submit" class="btn btn-primary">등록</button>
		</form>
	</div>
	<!-- Code injected by live-server -->
	<script type="text/javascript">
		// <![CDATA[  <-- For SVG support
		if ('WebSocket' in window) {
			(function() {
				function refreshCSS() {
					var sheets = [].slice.call(document
							.getElementsByTagName("link"));
					var head = document.getElementsByTagName("head")[0];
					for (var i = 0; i < sheets.length; ++i) {
						var elem = sheets[i];
						var parent = elem.parentElement || head;
						parent.removeChild(elem);
						var rel = elem.rel;
						if (elem.href && typeof rel != "string"
								|| rel.length == 0
								|| rel.toLowerCase() == "stylesheet") {
							var url = elem.href.replace(
									/(&|\?)_cacheOverride=\d+/, '');
							elem.href = url
									+ (url.indexOf('?') >= 0 ? '&' : '?')
									+ '_cacheOverride='
									+ (new Date().valueOf());
						}
						parent.appendChild(elem);
					}
				}
				var protocol = window.location.protocol === 'http:' ? 'ws://'
						: 'wss://';
				var address = protocol + window.location.host
						+ window.location.pathname + '/ws';
				var socket = new WebSocket(address);
				socket.onmessage = function(msg) {
					if (msg.data == 'reload')
						window.location.reload();
					else if (msg.data == 'refreshcss')
						refreshCSS();
				};
				if (sessionStorage
						&& !sessionStorage
								.getItem('IsThisFirstTime_Log_From_LiveServer')) {
					console.log('Live reload enabled.');
					sessionStorage.setItem(
							'IsThisFirstTime_Log_From_LiveServer', true);
				}
			})();
		} else {
			console
					.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
		}
		// ]]>
	</script>
</body>
</html>